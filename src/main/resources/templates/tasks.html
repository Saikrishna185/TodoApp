<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todo Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>

<div class="container mt-5">
    <h1 class="text-center mb-4">Todo Application</h1>
    
    <!-- Add Task -->
    <form th:action="@{/tasks}" method="post" class="row g-2 justify-content-center">
        <div class="col-md-8">
            <input class="form-control"
                   type="text"
                   name="title"
                   placeholder="Add a new task..."
                   required>
        </div>
        <div class="col-md-2">
            <button class="btn btn-primary w-100" type="submit">Add</button>
        </div>
    </form>
    
    <!-- Task List -->
    <div class="mt-4">
        <div th:each="task : ${tasks}"
             class="d-flex justify-content-between align-items-center border rounded p-2 mb-2">

    <span th:text="${task.title}"
          th:classappend="${task.completed} ? 'text-decoration-line-through text-muted' : ''">
        Task title
    </span>
            <div class="d-flex gap-2">
                <!-- Toggle -->
                <form th:action="@{/tasks/{id}/toggle(id=${task.id})}" method="post">
                    <button class="btn btn-warning btn-sm" type="submit">
                        Toggle
                    </button>
                </form>
                
                <!-- Delete -->
                <form th:action="@{/tasks/{id}/delete(id=${task.id})}" method="post">
                    <button class="btn btn-danger btn-sm" type="submit">
                        Delete
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
</html>
